<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>transaction</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/sale.css">
  <script src="js/jquery-3.2.1.js"></script>
  <script src="js/vue.js"></script>
</head>
<body>
  <header></header>
  <div id="content">
    <!--顶部图片#banner-->
    <div id="banner" class="table">
      <div>
        <h1>买卖域名，像淘宝一样简单！</h1>
        <p>基于支付宝担保交易打造的域名交易系统，为买卖双方提供安全、便捷的域名交易服务。</p>
      </div>
      <ul>
        <li class="active"><a href="/sale.html">推荐交易</a></li>
        <li><a href="#" @click.prevent="href('ykj',$event)">一口价</a></li>
        <li><a href="#" @click.prevent="href('jj',$event)">竞价</a></li>
        <li><a href="#" @click.prevent="href('xj',$event)">询价</a></li>
        <li><a href="#" @click.prevent="href('pm',$event)">拍卖</a></li>
      </ul>
    </div>
    <!--查询条件框#query-->
    <div id="query">
      <table>
        <tr id="type">
          <td><span>快速: </span></td>
          <td class="active bx"><span>不限</span></td>
          <td><span>纯数字</span></td>
          <td><span>3数</span></td>
          <td><span>4数</span></td>
          <td><span>5数</span></td>
          <td><span>纯字母</span></td>
          <td><span>3字母</span></td>
          <td><span>4字母</span></td>
          <td><span>3声</span></td>
          <td><span>4声</span></td>
          <td><span>双拼</span></td>
          <td><span>三拼</span></td>
          <td><span>3杂</span></td>
          <td><span>4杂</span></td>
        </tr>
        <tr id="has">
          <td><span>包含:</span></td>
          <td colspan="2" class="white nochange"><input type="text" class="put" id="hasVal"></td>
          <td class="hasbtn changeb">开头</td>
          <td class="hasbtn changeb">结尾</td>
          <td class="hasbtn changeb">全部</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="white nochange">排除:</td>
          <td colspan="2" class="white nochange"><input type="text" class="put" id="notHaveVal"></td>
          <td class="notbtn changeb">开头</td>
          <td class="notbtn changeb">结尾</td>   
          <td class="notbtn changeb">全部</td>   
        </tr>
        <tr id="suffix" class="suffix">
          <td><span>后缀: </span></td>
          <td class="bx active"><span>不限</span></td>
          <td>.com</td>
          <td>.cn</td>
          <td>.com.cn</td>
          <td>.net</td>
          <td>.org</td>
          <td>.cc</td>
          <td>.tv</td>
          <td>.top</td>
          <td>.vip</td>
          <td>.co</td>
          <td>.love</td>
          <td>.xin</td>
          <td><span>清空</span></td>
        </tr>
        <tr id="price">
          <td><span>价格: </span></td>
          <td class="bx active"><span>不限</span></td>
          <td><span>0-50</span></td>
          <td><span>50-100</span></td>
          <td><span>100-500</span></td>
          <td><span>500-1k</span></td>
          <td><span>1k-3k</span></td>
          <td><span>3k-5k</span></td>
          <td><span>5k-1w</span></td>
          <td><span>1w以上</span></td>
          <td class="white nochange"><span>自定价格:</span></td>
          <td colspan="2" class="white"><span><input v-model="pLeast" type="number" class="inp" id="pLeast">-<input v-model="pMost" type="number" class="inp" id="pMost"></span></td>
          <td></td>
          <td></td>
        </tr>
        <tr id="length">
          <td><span>长度: </span></td>
          <td class="active bx"><span>不限</span></td>
          <td><span>1个</span></td>
          <td><span>2个</span></td>
          <td><span>3个</span></td>
          <td><span>4个</span></td>
          <td><span>5个</span></td>
          <td><span>6个</span></td>
          <td><span>7个</span></td>
          <td><span>7个以上</span></td>
          <td class="white nochange"><span>自定长度:</span></td>
          <td colspan="2" class="white"><span><input v-model="lenLeast" type="number" class="inp">-<input v-model="lenMost" type="number" class="inp"></span></td>
          <td></td>
          <td></td>
        </tr>
        <tr  id="registar">
          <td><span>注册商: </span></td>
          <td class="active bx">不限</td>
          <td><span>追米网</span></td>
          <td><span>万网</span></td>
          <td><span>易名中国</span></td>
          <td><span>爱名网<span></td>
          <td><span>西部数码</span></td>
          <td><span>域名城</span></td>
          <td><span>godaddy</span></td>
          <td></td>
          <td class="white nochange"><span>结束时间:</span></td>
          <td colspan="2" class="white nochange"><input type="datetime-local" class="put" v-model="endTime"></td>
          <td></td>
          <td></td>
        </tr>
        <tr id="sell">
          <td><span>交易: </span></td>
          <td class="active bx">不限</td>
          <td id="ykj"><span>一口价</span></td>
          <td id="jj"><span>竞价</span></td>
          <td id="xj"><span>询价</span></td>
          <td id="pm"><span>拍卖</span></td>
          <td><span>一元起拍</span></td>
          <td><span>域名预定</span></td>
          <td><span>预定竞价</span></td>
          <td></td>
          <td class="white nochange"><span>到期时间: </span></td>
          <td colspan="2" class="white nochange"><span><input type="datetime-local" class="put"></span></td>
          <td></td>
          <td></td>
        </tr>
      </table>
      <div id="submit" @click="submit()">查询域名</div>
     
    </div>
    <!--返回数据#data-->
    <div id="data">
      <table>
        <tr>
          <th>域名
            <img class="order" src="img/pub/upArrow.png" @click="order(1,$event)">
          </th>
          <th>简介</th>
          <th>当前价格 
            <img class="order" src="img/pub/upArrow.png" @click="order(2,$event)">
          </th>
          <th>出价次数
            <img class="order" src="img/pub/upArrow.png" @click="order(3,$event)">
          </th>
          <th>到期时间
            <img class="order" src="img/pub/upArrow.png" @click="order(4,$event)">
          </th>
          <th>交易类型</th>
          <th>操作</th>
          <th>购买</th>
        </tr>          
        <!--数据在Vue内操作-->                           
        <!--<tr class="recommend" v-for="item,index of data" v-if="type.test( item.domainname.slice(0,item.domainname.indexOf('.')) ) && 
                                       has.test( item.domainname.slice(0,item.domainname.indexOf('.')) ) && 
                                       !notHave.test( item.domainname.slice(0,item.domainname.indexOf('.')) ) && 
                                       suffix.test( item.domainname.slice(item.domainname.indexOf('.')+1) ) && 
                                       item.domainname.slice(0,item.domainname.indexOf('.')).length >= lenLeast &&
                                       item.domainname.slice(0,item.domainname.indexOf('.')).length <= lenMost &&
                                       item.nowPrice >= pLeast && item.nowPrice <= pMost &&
                                       sell.test(item.saleType) && startPrice.test(item.startPrice) &&
                                       item.endTime < endTime &&  
                                       index >= (pageNum-1)*pageSize &&
                                       index <= (pageNum*pageSize)-1
                                       ">-->
        <tr class="recommend" v-for="item,index of result" v-if="index >= (pageNum-1)*pageSize && index <= (pageNum*pageSize)-1">                          
          <td class="domain">{{item.domainname}}</td>
          <td class="info">{{item.info}}</td>
          <td class="price">¥{{item.nowPrice}}</td>
          <td>{{item.offer}}</td>
          <td>{{new Date(item.endTime).getFullYear()+"-"+new Date(item.endTime).getMonth()+"-"+new Date(item.endTime).getDate()}}</td>
          <td>{{item.saleType | saleType}}</td>
          <td class="addCart"><a href="#" :data-id="item.id" @click.prevent="addCart(item.domainname,item.nowPrice,$event)">加入购物车</a></td>
          <td :data-id="item.id" class="buy"><a href="#" :data-id="item.id" @click.prevent="buy()">立即购买</a></td>
        </tr>
      </table>  
      <div class="pagination">
        <span>每页显示: </span>  
        <select name="pageSize" v-model="pageSize" @change="option($event)">
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="30">30</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
        <span>条</span>
        <div class="prev" :class="pageNum <= 1?'disable':''" @click="prev($event)">上一页</div>
        <div v-if="pageNum > 3" :class="pageNum==1?'active':''" @click="frontendPage(1)">1</div>
        <div v-if="pageNum > 4">···</div>

        <!--当前页前两条和后两条显示-->
        <div v-for="page of pageCount" v-if="page >= pageNum - 2 && page <= pageNum + 2" :class="pageNum==page?'active':''" @click="toPage(page)">{{page}}</div>
        
        <div v-if="pageCount>pageNum+2">···</div>
        <div v-if="pageCount>pageNum+2" :class="pageNum==pageCount?'active':''" @click="frontendPage(pageCount)">{{pageCount}}</div>
        <div class="prev next" :class="pageNum >= pageCount?'disable':''"  @click="next($event)">下一页</div>
        <span>跳转至: </span><input type="text" class="pageNum"><div class="jump" @click="jump($event)">前往</div>
      </div> 
      <div>
          <p>
            <img src="img/sale/i.png">
            域名价格可能存在由于系统或页面延迟导致非最新价格的情况，在购买过程中请务必仔细核对，以生成订单价格为准。</p>
          <p>
            <img src="img/sale/i.png">
            为了交易安全，阿里云（万网）域名交易全面接入支付宝付款，暂不支持账户余额和信用卡结算；</p>
          <p>阿里云（万网）非域名交易当事人，仅为域名交易提供平台，不负责审核交易域名的状态是否存在瑕疵、无法对域名交易款项开具发票。</p>
      </div>
    </div>
  </div>
  <footer></footer>
  <script src="js/header.js"></script>
  <script src="js/footer.js"></script>
  <script src="js/sale.js"></script>
</body>
</html>